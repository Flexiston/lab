"use strict";var Profile=function(t){var r=t.getContext("2d"),n=t.width,a=t.height;r.strokeStyle=PROFILE_COLOR,r.lineWidth=PROFILE_LINE_WIDTH;function o(t,e){return t-e*CHOPPINESS_SCALE*PROFILE_AMPLITUDE*Math.sin(t*PROFILE_OMEGA+PROFILE_PHI)}function s(t){return PROFILE_AMPLITUDE*Math.cos(t*PROFILE_OMEGA+PROFILE_PHI)+PROFILE_OFFSET}this.render=function(t){r.clearRect(0,0,n,a),r.beginPath(),r.moveTo(o(0,t),s(0));for(var e=0;e<=n;e+=PROFILE_STEP)r.lineTo(o(e,t),s(e));r.stroke()},this.render(INITIAL_CHOPPINESS)},Arrow=function(t,n,a){var o=[n*WIND_SCALE,0,a*WIND_SCALE],s=addToVector([],ARROW_ORIGIN,o),r=document.createElement("div");r.style.position="absolute",r.style.width=ARROW_SHAFT_WIDTH+"px",r.style.background=UI_COLOR,setTransformOrigin(r,"center top"),setTransform(r,"translate3d("+(ARROW_ORIGIN[0]-ARROW_SHAFT_WIDTH/2)+"px, "+ARROW_ORIGIN[1]+"px, "+ARROW_ORIGIN[2]+"px) rotateX(90deg)"),t.appendChild(r);var i=document.createElement("div");i.style.position="absolute",i.style.borderStyle="solid",i.style.borderColor=UI_COLOR+" transparent transparent transparent",i.style.borderWidth=ARROW_HEAD_HEIGHT+"px "+ARROW_HEAD_WIDTH/2+"px 0px "+ARROW_HEAD_WIDTH/2+"px",setTransformOrigin(i,"center top"),setTransform(i,"translate3d("+(ARROW_ORIGIN[0]-ARROW_HEAD_WIDTH/2)+"px, "+ARROW_ORIGIN[1]+"px, "+ARROW_ORIGIN[2]+"px) rotateX(90deg)"),t.appendChild(i);function R(){var t=Math.atan2(o[2],o[0]),e=lengthOfVector(o);r.style.height=e-ARROW_HEAD_HEIGHT+1+ARROW_OFFSET+"px",setTransform(r,"translate3d("+(ARROW_ORIGIN[0]-ARROW_SHAFT_WIDTH/2)+"px, "+ARROW_ORIGIN[1]+"px, "+ARROW_ORIGIN[2]+"px) rotateX(90deg) rotateZ("+(t-Math.PI/2)+"rad) translateY("+-ARROW_OFFSET+"px)"),setTransform(i,"translate3d("+(ARROW_ORIGIN[0]-ARROW_HEAD_WIDTH/2)+"px, "+ARROW_ORIGIN[1]+"px, "+ARROW_ORIGIN[2]+"px) rotateX(90deg) rotateZ("+(t-Math.PI/2)+"rad) translateY("+(e-ARROW_HEAD_HEIGHT-1)+"px)")}this.update=function(t,e){o=[t,0,e],subtractFromVector(o,o,ARROW_ORIGIN);var r=lengthOfVector(o);r>MAX_WIND_SPEED*WIND_SCALE?multiplyVectorByScalar(o,o,MAX_WIND_SPEED*WIND_SCALE/r):lengthOfVector(o)<MIN_WIND_SPEED*WIND_SCALE&&multiplyVectorByScalar(o,o,MIN_WIND_SPEED*WIND_SCALE/r),addToVector(s,ARROW_ORIGIN,o),R(),n=o[0]/WIND_SCALE,a=o[2]/WIND_SCALE},this.getValue=function(){return lengthOfVector(o)/WIND_SCALE},this.getValueX=function(){return n},this.getValueY=function(){return a},this.distanceToTip=function(t){return distanceBetweenVectors(s,t)},this.getTipZ=function(){return s[2]},R()},Slider=function(t,n,e,a,o,s,i,r,R){var I=document.createElement("div");I.style.position="absolute",I.style.width=a+"px",I.style.height=r+"px",I.style.backgroundColor=SLIDER_LEFT_COLOR,setTransformOrigin(I,"center top"),setTransform(I,"translate3d("+n+"px, 0, "+e+"px) rotateX(90deg)"),t.appendChild(I);var O=document.createElement("div");O.style.position="absolute",O.style.width=a+"px",O.style.height=r+"px",O.style.backgroundColor=SLIDER_RIGHT_COLOR,setTransformOrigin(O,"center top"),setTransform(O,"translate3d("+n+"px, 0, "+e+"px) rotateX(90deg)"),t.appendChild(O);var l=document.createElement("div");l.style.position="absolute",l.style.width=R+"px",l.style.height=R+"px",l.style.borderRadius=.5*R+"px",l.style.background=HANDLE_COLOR,setTransformOrigin(l,"center top"),setTransform(l,"translate3d("+n+"px, 0px, "+e+"px) rotateX(90deg)"),t.appendChild(l);function d(){var t=(i-o)/(s-o);setTransform(l,"translate3d("+(_-.5*l.offsetWidth)+"px, 0, "+(e-.5*l.offsetHeight)+"px) rotateX(90deg)"),I.style.width=t*a+"px",O.style.width=(1-t)*a+"px",setTransform(O,"translate3d("+(n+t*a)+"px, 0, "+e+"px) rotateX(90deg)")}var _=n+(i-o)/(s-o)*a-l.offsetWidth/2;this.update=function(t,e){_=clamp(t,n,n+a);var r=clamp((t-n)/a,0,1);e(i=o+r*(s-o)),d()},this.getValue=function(){return i},this.distanceToHandle=function(t){return distanceBetweenVectors([_,0,e],t)},d()};